<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IMS - Login/Signup</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<style>
  body, html { height: 100%; margin: 0; font-family: Arial, sans-serif; }
  #mainContainer { height: 100vh;width: 70%; display: flex; overflow: hidden; position: relative; justify-content: center; align-items: center;
   }

  .panel {
    width: 50%; height: 80%; position: absolute; top: 0; transition: all 0.7s ease;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    border-top-left-radius: 20%; margin-top: 50px;
    border-bottom-left-radius: 20%; 
}

  .logo-panel { left: 0; background-color: #0d6efd; color: rgb(255, 255, 255); z-index: 2; text-align: center; }
  .logo-panel img { width: 120px; margin-bottom: 20px; }
  .form-panel { right: 0; background-color: #ffffff; color: black; z-index: 1; }

  .form-container { width: 80%; max-width: 400px; }

  .otp-container input {
    width: 40px; height: 40px; text-align: center; margin-right: 5px;
    font-size: 1.2rem;
  }

  .toggle-link { cursor: pointer; color: #0d6efd; text-decoration: underline; }

  /* Swapped state */
  .swapped .logo-panel { left: 50%;border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 20%;
  border-bottom-right-radius: 20%; }
  .swapped .form-panel { right: 50%;border-top-left-radius: 20%;
  border-bottom-left-radius: 20%;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0; }

  .invalid-feedback { display: block; }
</style>
</head>
<body style="font-family:'Poppins', sans-serif;">
    <nav class="navbar navbar-expand-lg navbar-light bg-body-tertiary shadow-sm">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"><img src="logo1.png" alt="logo" style="width: 40px; border-radius: 40%;"></a>
          
          <!-- Toggler button -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
      
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link active" href="#">Product Requst</a></li>
              <li class="nav-item"><a class="nav-link active" href="#">SuperMarkets</a></li>
            </ul>
      
            <!-- User icon aligned right -->
            <div class="d-flex">
              <i class="bi bi-person-circle fs-2" style="color: black; cursor: pointer;"></i>
            </div>
          </div>
        </div>
      </nav>
    
<div class="container-fluid" id="mainContainer">
  <!-- Logo Panel -->
  <div class="panel logo-panel" id="logoPanel">
    <img src="logo1.png" alt="Company Logo" style="border-radius: 50%;">
    <h3>Welcome to SuperMart Dashboard</h3>
    <p>Manage your supermart efficiently and easily!</p>
  </div>

  <!-- Form Panel -->
  <div class="panel form-panel">
    <!-- Login Form -->
    <div class="form-container" id="loginForm">
      <h3 class="mb-4">Login</h3>
      <form id="formLogin" novalidate>
        <div class="mb-3">
          <label>Email</label>
          <input type="email" class="form-control" id="loginEmail" required>
        </div>
        <div class="mb-3">
          <label>Password</label>
          <input type="password" class="form-control" id="loginPassword" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Login</button>
      </form>
      <p class="mt-3 text-center">Not registered? <span class="toggle-link" onclick="toggleForm()">Sign up</span></p>
    </div>

    <!-- Signup Form -->
    <div class="form-container d-none" id="signupForm">
      <h3 class="mb-4">Sign Up</h3>
      <form id="formSignup" novalidate>
        <div class="mb-3">
          <label>Supermart Name</label>
          <input type="text" class="form-control" id="supermartName" required>
        </div>
        <div class="mb-3">
          <label>Full Name</label>
          <input type="text" class="form-control" id="fullName" required>
        </div>
        <div class="mb-3">
          <label>Email</label>
          <input type="email" class="form-control" id="signupEmail" required>
        </div>
        <div class="mb-3">
          <label>Phone</label>
          <input type="tel" class="form-control" id="signupPhone" pattern="[0-9]{10}" required>
        </div>
        <div class="mb-3">
          <label>Password</label>
          <input type="password" class="form-control" id="signupPassword" required>
        </div>
        <div class="mb-3">
          <label>Confirm Password</label>
          <input type="password" class="form-control" id="signupConfirmPassword" required>
        </div>
        <div class="mb-3">
          <label>OTP</label>
          <div class="otp-container d-flex">
            <input type="text" maxlength="1" class="form-control otp-input" required>
            <input type="text" maxlength="1" class="form-control otp-input" required>
            <input type="text" maxlength="1" class="form-control otp-input" required>
            <input type="text" maxlength="1" class="form-control otp-input" required>
            <input type="text" maxlength="1" class="form-control otp-input" required>
            <input type="text" maxlength="1" class="form-control otp-input" required>
          </div>
        </div>
        <button type="submit" class="btn btn-success w-100">Sign Up</button>
      </form>
      <p class="mt-3 text-center">Already registered? <span class="toggle-link" onclick="toggleForm()">Login</span></p>
    </div>
  </div>
</div>

<script>
  const mainContainer = document.getElementById('mainContainer');
  const loginForm = document.getElementById('loginForm');
  const signupForm = document.getElementById('signupForm');

  function toggleForm() {
    loginForm.classList.toggle('d-none');
    signupForm.classList.toggle('d-none');
    mainContainer.classList.toggle('swapped');
  }

  // OTP input auto-move
  document.querySelectorAll('.otp-input').forEach((input, i, arr)=>{
    input.addEventListener('input', e=>{
      if(e.target.value.length > 0 && i < arr.length-1) arr[i+1].focus();
    });
    input.addEventListener('keydown', e=>{
      if(e.key==='Backspace' && e.target.value === '' && i > 0) arr[i-1].focus();
    });
  });

  // Form validation
  document.getElementById('formLogin').addEventListener('submit', e=>{
    e.preventDefault();
    const email = document.getElementById('loginEmail');
    const password = document.getElementById('loginPassword');
    let valid = true;

    if(!email.value.match(/^\S+@\S+\.\S+$/)) { email.classList.add('is-invalid'); valid=false; } 
    else { email.classList.remove('is-invalid'); }

    if(password.value==='') { password.classList.add('is-invalid'); valid=false; } 
    else { password.classList.remove('is-invalid'); }

    if(valid) alert('Login successful!');
  });

  document.getElementById('formSignup').addEventListener('submit', e=>{
    e.preventDefault();
    const email = document.getElementById('signupEmail');
    const phone = document.getElementById('signupPhone');
    const password = document.getElementById('signupPassword');
    const confirmPassword = document.getElementById('signupConfirmPassword');
    const otpInputs = document.querySelectorAll('.otp-input');
    let valid = true;

    if(!email.value.match(/^\S+@\S+\.\S+$/)) { email.classList.add('is-invalid'); valid=false; } 
    else { email.classList.remove('is-invalid'); }

    if(!phone.value.match(/^\d{10}$/)) { phone.classList.add('is-invalid'); valid=false; } 
    else { phone.classList.remove('is-invalid'); }

    if(password.value==='') { password.classList.add('is-invalid'); valid=false; } 
    else { password.classList.remove('is-invalid'); }

    if(password.value!==confirmPassword.value) { confirmPassword.classList.add('is-invalid'); valid=false; } 
    else { confirmPassword.classList.remove('is-invalid'); }

    let otp = '';
    otpInputs.forEach(input=>otp+=input.value);
    if(otp.length !== 6 || !/^\d{6}$/.test(otp)) { 
      otpInputs.forEach(input=>input.classList.add('is-invalid')); valid=false; 
    } else { otpInputs.forEach(input=>input.classList.remove('is-invalid')); }

    if(valid) alert('Signup successful!');
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
